(this["webpackJsonpamazon-react"]=this["webpackJsonpamazon-react"]||[]).push([[0],{60:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(32),c=a.n(n),l=(a(40),a(10)),i=a(11),o=a(12),r=a(13),b=a(14),h=a(3),d=a(33),j=a.n(d).a.create({baseURL:"http://178.128.81.251:8080/api/v1"});j.defaults.withCredentials=!0;var u=j,m=a(2),p=(a(60),a(0));function O(){return Object(p.jsx)("div",{className:"loader"})}var x=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:null,password:null,error:null,loading:!1},e.handleType=function(t){var a,s=t.target,n=s.name,c=s.value;e.setState((a={},Object(m.a)(a,n,c),Object(m.a)(a,"error",null),a))},e.handleClick=function(){e.setState({loading:!0}),u.post("users/login",{email:e.state.email,password:e.state.password}).then((function(t){e.setState({loading:!0}),e.props.onLogin(t.data.token)})).catch((function(t){return e.setState({error:t.response.data.error.message,loading:!1})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"container is-max-desktop",children:Object(p.jsxs)("div",{className:"notification is-grey-lighter",children:[Object(p.jsxs)("div",{className:"field",children:[document.cookie&&Object(p.jsx)(h.a,{to:"/books"}),this.state.error&&Object(p.jsx)("div",{className:"notification is-warning",children:this.state.error}),this.state.loading&&Object(p.jsx)(O,{}),Object(p.jsx)("label",{className:"label",children:"\u0418\u043c\u044d\u0439\u043b"}),Object(p.jsx)("input",{className:"input",name:"email",type:"text",onChange:this.handleType})]}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"\u041d\u0443\u0443\u0446 \u04af\u0433"}),Object(p.jsx)("input",{className:"input",name:"password",type:"password",onChange:this.handleType})]}),Object(p.jsx)("div",{className:"field",children:Object(p.jsx)("button",{className:"button is-link",onClick:this.handleClick,children:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445"})})]})})})}}]),a}(s.Component),g=a(17),_=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).componentDidMount=function(e){s.setState({loading:!0}),u.get("books?limit=52").then((function(e){s.setState({books:e.data.data,pagination:e.data.pagination,loading:!1})})).catch((function(e){return s.setState({error:e.response,loading:!1})}))},s.paginationCount=function(e){var t=document.getElementsByClassName("pagination-link is-current");try{t[0].className="pagination-link"}catch(e){console.log(e)}s.setState({loading:!0}),e.target.className=s.state.is_current,u.get("books?limit=52&page=".concat(e.target.innerText)).then((function(e){s.setState({books:e.data.data,pagination:e.data.pagination,loading:!1})})).catch((function(e){return s.setState({error:e.response,loading:!1})}))},s.statelessComp=function(){var e=Array.apply(null,{length:s.state.pagination.pageCount}).map(Number.call,Number);return Object(p.jsx)("ul",{className:"pagination-list",children:e.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)("a",{onClick:s.paginationCount,className:"pagination-link","aria-label":"Page","aria-current":"page",children:e+1})},e)}))})},s.state={error:null,item:null,loading:!1,books:[],pagination:[],value:"",is_current:"pagination-link is-current"},s.handleChange=s.handleChange.bind(Object(g.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(g.a)(s)),s}return Object(i.a)(a,[{key:"enterKeyBlock",value:function(e){"Enter"===e.key&&e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;this.setState({loading:!0,books:[]}),u.post("books/search",{search_book:this.state.value}).then((function(e){t.setState({books:e.data.data,loading:!1})})).catch((function(e){return t.setState({error:e.response,loading:!1})}))}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"container is-max-desktop",children:[Object(p.jsxs)("div",{className:"columns is-vcentered",children:[Object(p.jsx)("div",{className:"column is-8",children:Object(p.jsx)("h1",{className:"is-primary is-size-2 ml-4",children:"\u041d\u043e\u043c\u044b\u043d \u0441\u0430\u043d"})}),Object(p.jsxs)("div",{className:"column",children:[Object(p.jsx)("h1",{className:"is-primary is-size-4 ml-4",children:"\u0411\u0438\u0431\u043b\u0438 \u043d\u043e\u043c\u044b\u043d \u0446\u043e\u043c\u043e\u0440\u043b\u0438\u0433"}),Object(p.jsxs)("div",{className:"columns m-4 is-mobile",children:[Object(p.jsx)("form",{className:"field",children:Object(p.jsx)("label",{className:"label",children:Object(p.jsx)("div",{className:"control",children:Object(p.jsx)("input",{className:"input",type:"text",placeholder:"\u0425\u0430\u0439\u0445 \u043d\u043e\u043c\u044b\u043d \u043d\u044d\u0440",value:this.state.value,onKeyDown:this.enterKeyBlock,onChange:this.handleChange})})})}),Object(p.jsx)("div",{className:"control ml-2",children:Object(p.jsx)("div",{className:"button is-link",onClick:this.handleSubmit,children:"\u0425\u0430\u0439\u0445"})})]})]})]}),this.state.loading?Object(p.jsx)(O,{}):Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"columns is-multiline",children:this.state.books.map((function(e){var t;return Object(p.jsxs)("div",{className:"column is-3 has-text-centered",children:[Object(p.jsx)(b.b,{to:"books/".concat(e._id),children:Object(p.jsx)("img",(t={style:{width:"100%"}},Object(m.a)(t,"style",{height:"25vh"}),Object(m.a)(t,"src","https://i.postimg.cc/"+e.photo),t))}),Object(p.jsx)("p",{className:"mt-4 has-text-centered",children:e.name})]},e._id)}))})}),Object(p.jsx)("div",{className:"columns is-mobile is-centered my-6",children:Object(p.jsx)("nav",{className:"pagination",role:"navigation","aria-label":"pagination",children:this.statelessComp()})}),Object(p.jsx)("div",{className:"columns is-mobile is-centered my-6"}),Object(p.jsx)("footer",{className:"footer",children:Object(p.jsx)("div",{className:"content has-text-centered",children:Object(p.jsx)("p",{children:"\u0425\u044d\u0440\u044d\u0432 \u0442\u0430 \u043c\u0430\u043d\u0430\u0439 \u04af\u0439\u043b \u0430\u0436\u0438\u043b\u043b\u0430\u0433\u0430\u0430\u0433 \u0434\u044d\u043c\u0436\u0438\u0436 \u0431\u0430\u0439\u0432\u0430\u043b \u0445\u0430\u043d\u0434\u0438\u0432 \u04e9\u0440\u0433\u04e9\u04e9\u0440\u044d\u0439"})})})]})}}]),a}(s.Component),N=a(9),v=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e,s;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(s=t.call.apply(t,[this].concat(c))).state=(e={name:null,content:null,photo:null,photo_1:null,photo_2:null,photo_3:null,error:null,success:null,deleted:null,loading:null},Object(m.a)(e,"loading",!1),Object(m.a)(e,"publisher_city",null),Object(m.a)(e,"publish_year",null),Object(m.a)(e,"isbn",null),Object(m.a)(e,"book_size",null),Object(m.a)(e,"book_pages",null),Object(m.a)(e,"book_created",null),Object(m.a)(e,"book_created_author",null),Object(m.a)(e,"book_created_place",null),Object(m.a)(e,"book_created_year",null),e),s.goBack=function(){s.props.history.goBack()},s.handleSave=function(){localStorage.getItem("token");s.setState({loading:!0,success:null}),u.put("books/"+s.props.match.params.id,{name:s.state.name,content:s.state.content,photo:s.state.photo,photo_1:s.state.photo_1,photo_2:s.state.photo_2,photo_3:s.state.photo_3,publisher_city:s.state.publisher_city,publish_year:s.state.publish_year,isbn:s.state.isbn,book_size:s.state.book_size,book_pages:s.state.book_pages,book_created:s.state.book_created,book_created_author:s.state.book_created_author,book_created_place:s.state.book_created_place,book_created_year:s.state.book_created_year}).then((function(e){console.log(e),s.setState(Object(N.a)(Object(N.a)({},e.data.data),{},{error:null,loading:!1,success:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u0433\u0430\u0433\u0434\u043b\u0430\u0430..."}))})).catch((function(e){s.setState({error:e.response.data.error.message,loading:!1})}))},s.handleDelete=function(){localStorage.getItem("token");s.setState({loading:!0,success:null}),u.delete("books/"+s.props.match.params.id).then((function(e){s.setState({deleted:!0})})).catch((function(e){console.log(e),s.setState({error:e.response.data.error.message,loading:!1})}))},s.handleType=function(e){var t,a=e.target,n=a.name,c=a.value;s.setState((t={},Object(m.a)(t,n,c),Object(m.a)(t,"error",null),Object(m.a)(t,"success",null),t))},s.componentDidMount=function(){u.get("books/"+s.props.match.params.id).then((function(e){s.setState(Object(N.a)(Object(N.a)({},e.data.data),{},{error:null,loading:!1}))})).catch((function(e){s.setState({error:e.response.data.error.message,loading:!1})}))},s}return Object(i.a)(a,[{key:"render",value:function(){return this.state.deleted?Object(p.jsx)("div",{className:"notification is-danger",children:"\u041d\u043e\u043c \u0443\u0441\u0442\u0433\u0430\u0433\u0434\u043b\u0430\u0430"}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"media mt-4",children:Object(p.jsxs)("div",{className:"media-content",children:[Object(p.jsxs)("div",{className:"columns is-variable is-1-mobile is-0-tablet is-3-desktop is-8-widescreen is-2-fullhd",children:[Object(p.jsx)("div",{className:"column is-one-quarter",children:Object(p.jsx)("img",{src:"https://i.postimg.cc/"+this.state.photo})}),Object(p.jsx)("div",{className:"column is-one-quarter",children:Object(p.jsx)("img",{src:"https://i.postimg.cc/"+this.state.photo_1})}),Object(p.jsx)("div",{className:"column is-one-quarter",children:Object(p.jsx)("img",{src:"https://i.postimg.cc/"+this.state.photo_2})}),Object(p.jsx)("div",{className:"column is-one-quarter",children:Object(p.jsx)("img",{src:"https://i.postimg.cc/"+this.state.photo_3})})]}),Object(p.jsx)("h1",{className:"title",children:this.state.name}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"\u041d\u044d\u0440"}),Object(p.jsx)("input",{className:"input",name:"name",value:this.state.name,onChange:this.handleType}),Object(p.jsxs)("div",{className:"columns is-variable is-1-mobile is-0-tablet is-3-desktop is-8-widescreen is-2-fullhd",children:[Object(p.jsxs)("div",{className:"column is-one-quarter",children:[Object(p.jsx)("label",{className:"label",children:"\u0417\u0443\u0440\u0430\u0433 1"}),Object(p.jsx)("input",{className:"input",name:"photo",value:this.state.photo,onChange:this.handleType})]}),Object(p.jsxs)("div",{className:"column is-one-quarter",children:[Object(p.jsx)("label",{className:"label",children:"\u0417\u0443\u0440\u0430\u0433 2"}),Object(p.jsx)("input",{className:"input",name:"photo_1",value:this.state.photo_1,onChange:this.handleType})]}),Object(p.jsxs)("div",{className:"column is-one-quarter",children:[Object(p.jsx)("label",{className:"label",children:"\u0417\u0443\u0440\u0430\u0433 3"}),Object(p.jsx)("input",{className:"input",name:"photo_2",value:this.state.photo_2,onChange:this.handleType})]}),Object(p.jsxs)("div",{className:"column is-one-quarter",children:[Object(p.jsx)("label",{className:"label",children:"\u0417\u0443\u0440\u0430\u0433 4"}),Object(p.jsx)("input",{className:"input",name:"photo_3",value:this.state.photo_3,onChange:this.handleType})]})]}),Object(p.jsx)("label",{className:"label",children:"\u0410\u0433\u0443\u0443\u043b\u0433\u0430"}),Object(p.jsx)("textarea",{style:{height:"20em"},className:"input",name:"content",value:this.state.content,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u0425\u044d\u0432\u043b\u044d\u0441\u044d\u043d \u0445\u043e\u0442"}),Object(p.jsx)("textarea",{className:"input",name:"publisher_city",value:this.state.publisher_city,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u0425\u044d\u0432\u043b\u044d\u0441\u044d\u043d \u043e\u043d"}),Object(p.jsx)("textarea",{className:"input",name:"publish_year",value:this.state.publish_year,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"ISBN"}),Object(p.jsx)("textarea",{className:"input",name:"isbn",value:this.state.isbn,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u041d\u043e\u043c\u044b\u043d \u0445\u044d\u043c\u0436\u044d\u044d \u04e9\u043d\u0434\u04e9\u0440 \u04e9\u0440\u0433\u04e9\u043d"}),Object(p.jsx)("textarea",{className:"input",name:"book_size",value:this.state.book_size,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u0425\u0443\u0443\u0434\u0430\u0441\u043d\u044b \u0442\u043e\u043e"}),Object(p.jsx)("textarea",{className:"input",name:"book_pages",value:this.state.book_pages,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u042d\u0445 \u043d\u043e\u043c\u044b\u043d \u043d\u044d\u0440"}),Object(p.jsx)("textarea",{className:"input",name:"book_created_author",value:this.state.book_created_author,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u042d\u0445 \u043d\u043e\u043c\u044b\u043d \u0433\u0430\u0437\u0430\u0440"}),Object(p.jsx)("textarea",{className:"input",name:"book_created_place",value:this.state.book_created_place,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u04ae\u0439\u043b\u0434\u0432\u044d\u0440\u043b\u044d\u0441\u044d\u043d \u043e\u043d"}),Object(p.jsx)("textarea",{className:"input",name:"book_created_year",value:this.state.book_created_year,onChange:this.handleType}),Object(p.jsx)("button",{className:"button is-link is-outlined m-2",onClick:this.handleSave,children:"\u0425\u0430\u0434\u0433\u0430\u043b\u0430\u0445"}),Object(p.jsx)("button",{className:"button is-danger is-outlined m-2",onClick:this.handleDelete,children:"\u0423\u0441\u0442\u0433\u0430\u0445"}),Object(p.jsx)("button",{className:"button is-success is-outlined m-2",onClick:this.goBack,children:"\u0411\u0443\u0446\u0430\u0445"}),this.state.success&&Object(p.jsx)("div",{className:"notification is-success",children:this.state.success}),this.state.error&&Object(p.jsx)("div",{className:"notification is-warning",children:this.state.error})]})]})})})}}]),a}(s.Component),k=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e,s;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(s=t.call.apply(t,[this].concat(c))).state=(e={name:null,content:null,photo:null,photo_1:null,photo_2:null,photo_3:null,error:null,success:null,deleted:null,loading:null},Object(m.a)(e,"loading",!1),Object(m.a)(e,"publisher_city",null),Object(m.a)(e,"publish_year",null),Object(m.a)(e,"isbn",null),Object(m.a)(e,"book_size",null),Object(m.a)(e,"book_pages",null),Object(m.a)(e,"book_created",null),Object(m.a)(e,"book_created_author",null),Object(m.a)(e,"book_created_place",null),Object(m.a)(e,"book_created_year",null),Object(m.a)(e,"value",""),e),s.goBack=function(){s.props.history.goBack()},s.handleSave=function(){localStorage.getItem("token");s.setState({loading:!0,success:null}),u.put("books/"+s.props.match.params.id,{name:s.state.name,content:s.state.content,photo:s.state.photo,photo_1:s.state.photo_1,photo_2:s.state.photo_2,photo_3:s.state.photo_3,publisher_city:s.state.publisher_city,publish_year:s.state.publish_year,isbn:s.state.isbn,book_size:s.state.book_size,book_pages:s.state.book_pages,book_created:s.state.book_created,book_created_author:s.state.book_created_author,book_created_place:s.state.book_created_place,book_created_year:s.state.book_created_year}).then((function(e){console.log(e),s.setState(Object(N.a)(Object(N.a)({},e.data.data),{},{error:null,loading:!1,success:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u0433\u0430\u0433\u0434\u043b\u0430\u0430..."}))})).catch((function(e){s.setState({error:e.response.data.error.message,loading:!1})}))},s.handleDelete=function(){localStorage.getItem("token");s.setState({loading:!0,success:null}),u.delete("books/"+s.props.match.params.id).then((function(e){s.setState({deleted:!0})})).catch((function(e){console.log(e),s.setState({error:e.response.data.error.message,loading:!1})}))},s.handleType=function(e){var t,a=e.target,n=a.name,c=a.value;s.setState((t={},Object(m.a)(t,n,c),Object(m.a)(t,"error",null),Object(m.a)(t,"success",null),t))},s.componentDidMount=function(){u.get("books/"+s.props.match.params.id).then((function(e){s.setState(Object(N.a)(Object(N.a)({},e.data.data),{},{error:null,loading:!1}))})).catch((function(e){s.setState({error:e.response.data.error.message,loading:!1})}))},s}return Object(i.a)(a,[{key:"render",value:function(){return this.state.deleted?Object(p.jsx)("div",{className:"notification is-danger",children:"\u041d\u043e\u043c \u0443\u0441\u0442\u0433\u0430\u0433\u0434\u043b\u0430\u0430"}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"media mt-4",children:Object(p.jsxs)("div",{className:"media-content m-4",children:[Object(p.jsxs)("div",{className:"columns m-1 is-mobile is-centered",children:[Object(p.jsx)("div",{className:"column is-one-quarter",children:Object(p.jsx)("img",{src:"https://i.postimg.cc/"+this.state.photo})}),Object(p.jsx)("div",{className:"column is-one-quarter",children:Object(p.jsx)("img",{src:"https://i.postimg.cc/"+this.state.photo_1})}),Object(p.jsx)("div",{className:"column is-one-quarter",children:Object(p.jsx)("img",{src:"https://i.postimg.cc/"+this.state.photo_2})}),Object(p.jsx)("div",{className:"column is-one-quarter",children:Object(p.jsx)("img",{src:"https://i.postimg.cc/"+this.state.photo_3})})]}),Object(p.jsx)("h1",{className:"title",children:this.state.name}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"\u041d\u044d\u0440"}),Object(p.jsx)("p",{className:"m-4",children:this.state.name})]}),Object(p.jsx)("label",{className:"label",children:"\u0410\u0433\u0443\u0443\u043b\u0433\u0430"}),Object(p.jsx)("p",{className:"m-4",children:this.state.content}),Object(p.jsx)("label",{className:"label",children:"\u0425\u044d\u0432\u043b\u044d\u0441\u044d\u043d \u0445\u043e\u0442"}),Object(p.jsx)("p",{className:"m-4",children:this.state.publisher_city}),Object(p.jsx)("label",{className:"label",children:"\u0425\u044d\u0432\u043b\u044d\u0441\u044d\u043d \u043e\u043d"}),Object(p.jsx)("p",{className:"m-4",children:this.state.publish_year}),Object(p.jsx)("label",{className:"label",children:"ISBN"}),Object(p.jsx)("p",{className:"m-4",children:this.state.isbn}),Object(p.jsx)("label",{className:"label",children:"\u041d\u043e\u043c\u044b\u043d \u0445\u044d\u043c\u0436\u044d\u044d \u04e9\u043d\u0434\u04e9\u0440 \u04e9\u0440\u0433\u04e9\u043d"}),Object(p.jsx)("p",{className:"m-4",children:this.state.book_size}),Object(p.jsx)("label",{className:"label",children:"\u0425\u0443\u0443\u0434\u0430\u0441\u043d\u044b \u0442\u043e\u043e"}),Object(p.jsx)("p",{className:"m-4",children:this.state.book_pages}),Object(p.jsx)("label",{className:"label",children:"\u042d\u0445 \u043d\u043e\u043c\u044b\u043d \u043d\u044d\u0440"}),Object(p.jsx)("p",{className:"m-4",children:this.state.book_created_author}),Object(p.jsx)("label",{className:"label",children:"\u042d\u0445 \u043d\u043e\u043c\u044b\u043d \u0433\u0430\u0437\u0430\u0440"}),Object(p.jsx)("p",{className:"m-4",children:this.state.book_created_place}),Object(p.jsx)("label",{className:"label",children:"\u04ae\u0439\u043b\u0434\u0432\u044d\u0440\u043b\u044d\u0441\u044d\u043d \u043e\u043d"}),Object(p.jsx)("p",{className:"m-4",children:this.state.book_created_year}),Object(p.jsx)("button",{className:"button is-success is-outlined m-2",onClick:this.goBack,children:"\u0411\u0443\u0446\u0430\u0445"}),this.state.success&&Object(p.jsx)("div",{className:"notification is-success",children:this.state.success}),this.state.error&&Object(p.jsx)("div",{className:"notification is-warning",children:this.state.error})]})})})}}]),a}(s.Component),y=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state=Object(m.a)({name:null,content:null,photo:null,author:null,category:null,publisher_place:null,publisher_city:null,publish_year:null,isbn:null,book_size:null,book_created:null,book_created_author:null,book_created_place:null,book_created_year:null,error:null,success:null,deleted:null,loading:null},"loading",!1),e.goBack=function(){e.props.history.goBack()},e.handleSave=function(){var t=localStorage.getItem("token");e.setState({loading:!0,success:null}),u.post("books/",{name:e.state.name,content:e.state.content,photo:e.state.photo,author:e.state.author,category:e.state.category,publisher_place:e.state.publisher_place,publisher_city:e.state.publisher_city,publish_year:e.state.publish_year,isbn:e.state.isbn,book_size:e.state.book_size,book_created:e.state.book_created,book_created_author:e.state.book_created_author,book_created_place:e.state.book_created_place,book_created_year:e.state.book_created_year},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log(t),e.setState(Object(N.a)(Object(N.a)({},t.data.data),{},{error:null,loading:!1,success:"\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0445\u0430\u0434\u0433\u0430\u0433\u0430\u0433\u0434\u043b\u0430\u0430..."}))})).catch((function(t){e.setState({error:t.response.data.error.message,loading:!1})}))},e.handleType=function(t){var a,s=t.target,n=s.name,c=s.value;e.setState((a={},Object(m.a)(a,n,c),Object(m.a)(a,"error",null),Object(m.a)(a,"success",null),a))},e}return Object(i.a)(a,[{key:"render",value:function(){return this.state.deleted?Object(p.jsx)("div",{className:"notification is-danger",children:"\u041d\u043e\u043c \u0443\u0441\u0442\u0433\u0430\u0433\u0434\u043b\u0430\u0430"}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"media",children:[Object(p.jsx)("div",{className:"media-left",children:Object(p.jsx)("img",{src:"https://i.postimg.cc/"+this.state.photo})}),Object(p.jsxs)("div",{className:"media-content",children:[Object(p.jsx)("h1",{className:"title",children:this.state.name}),Object(p.jsxs)("div",{className:"field",children:[Object(p.jsx)("label",{className:"label",children:"\u041d\u044d\u0440"}),Object(p.jsx)("input",{className:"input",name:"name",value:this.state.name,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u0417\u0443\u0440\u0430\u0433"}),Object(p.jsx)("input",{className:"input",name:"photo",value:this.state.photo,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u0410\u0433\u0443\u0443\u043b\u0433\u0430"}),Object(p.jsx)("textarea",{style:{height:"20em"},className:"input",name:"content",value:this.state.content,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u0425\u044d\u0432\u043b\u044d\u0441\u044d\u043d \u0445\u043e\u0442"}),Object(p.jsx)("textarea",{className:"input",name:"publisher_city",value:this.state.publisher_city,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u0425\u044d\u0432\u043b\u044d\u0441\u044d\u043d \u043e\u043d"}),Object(p.jsx)("textarea",{className:"input",name:"publish_year",value:this.state.publish_year,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"ISBN"}),Object(p.jsx)("textarea",{className:"input",name:"isbn",value:this.state.isbn,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u041d\u043e\u043c\u044b\u043d \u0445\u044d\u043c\u0436\u044d\u044d \u04e9\u043d\u0434\u04e9\u0440 \u04e9\u0440\u0433\u04e9\u043d"}),Object(p.jsx)("textarea",{className:"input",name:"book_size",value:this.state.book_size,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u0425\u0443\u0443\u0434\u0430\u0441\u043d\u044b \u0442\u043e\u043e"}),Object(p.jsx)("textarea",{className:"input",name:"book_pages",value:this.state.book_pages,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u042d\u0445 \u043d\u043e\u043c\u044b\u043d \u043d\u044d\u0440"}),Object(p.jsx)("textarea",{className:"input",name:"book_created_author",value:this.state.book_created_author,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u042d\u0445 \u043d\u043e\u043c\u044b\u043d \u0433\u0430\u0437\u0430\u0440"}),Object(p.jsx)("textarea",{className:"input",name:"book_created_place",value:this.state.book_created_place,onChange:this.handleType}),Object(p.jsx)("label",{className:"label",children:"\u04ae\u0439\u043b\u0434\u0432\u044d\u0440\u043b\u044d\u0441\u044d\u043d \u043e\u043d"}),Object(p.jsx)("textarea",{className:"input",name:"book_created_year",value:this.state.book_created_year,onChange:this.handleType}),Object(p.jsx)("button",{className:"button is-link is-outlined m-2",onClick:this.handleSave,children:"\u041d\u043e\u043c \u043e\u0440\u0443\u0443\u043b\u0430\u0445"}),Object(p.jsx)("button",{className:"button is-success is-outlined m-2",onClick:this.goBack,children:"\u0426\u0443\u0446\u043b\u0430\u0445"}),this.state.success&&Object(p.jsx)("div",{className:"notification is-success",children:this.state.success}),this.state.error&&Object(p.jsx)("div",{className:"notification is-warning",children:this.state.error})]})]})]})})}}]),a}(s.Component);function f(e){var t=e.onLogout;e.onLogin;return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("nav",{className:"navbar m-4",role:"navigation","aria-label":"main navigation",children:[Object(p.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(p.jsx)(b.b,{className:"button is-primary is-light",to:"/books",children:Object(p.jsx)("strong",{children:"\u041b\u043e\u0433\u043e \u0431\u0430\u0439\u043d\u0430"})}),Object(p.jsx)(b.b,{className:"button is-primary is-light",to:"/books",children:Object(p.jsx)("strong",{children:"\u041d\u043e\u043c\u0443\u0443\u0434"})}),Object(p.jsx)(b.b,{className:"button is-success is-light",to:"/about",children:Object(p.jsx)("strong",{children:"\u0411\u0438\u0434\u043d\u0438\u0439 \u0442\u0443\u0445\u0430\u0439"})})]}),Object(p.jsx)("div",{className:"navbar-end",children:Object(p.jsx)("div",{className:"navbar-item",children:Object(p.jsx)("div",{className:"buttons",children:Object(p.jsx)("a",{id:"logout",className:"button is-primary is-danger",onClick:t,children:"\u0413\u0430\u0440\u0430\u0445"})})})})]})})}var C=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={token:null},e.handleLogin=function(t){e.setState({token:t}),localStorage.setItem("token",t),e.router.history.push("/books")},e.handleLogout=function(){u.get("users/logout").then((function(t){e.router.history.push("/login")})).catch((function(e){return console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsx)(b.a,{ref:function(t){return e.router=t},children:Object(p.jsxs)("div",{className:"container is-clipped",children:[Object(p.jsx)(f,{onLogout:this.handleLogout}),Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)(h.d,{children:[Object(p.jsx)(h.b,{exact:!0,path:"/",component:_}),Object(p.jsx)(h.b,{exact:!0,path:"/books",component:_}),Object(p.jsx)(h.b,{path:"/books/insertbook",component:y}),Object(p.jsx)(h.b,{path:"/books/:id/edit",component:v}),Object(p.jsx)(h.b,{path:"/books/:id",component:k}),Object(p.jsx)(h.b,{path:"/login",render:function(){return Object(p.jsx)(x,{onLogin:e.handleLogin})}})]})})]})})}}]),a}(s.Component);c.a.render(Object(p.jsx)(C,{}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.77a01e76.chunk.js.map